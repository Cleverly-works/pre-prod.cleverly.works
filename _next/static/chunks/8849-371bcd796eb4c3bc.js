"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8849],{69435:function(e,n,t){t.d(n,{G:function(){return a},u:function(){return i}});var i=function(e){var n,t=0;for(n=0;n<e.length;n+=1)t=e.charCodeAt(n)+((t<<5)-t);var i="#";for(n=0;n<3;n+=1){var a=t>>8*n&255;i+="00".concat(a.toString(16)).slice(-2)}return i},a=function(e){return{sx:{bgcolor:i(e)},children:"".concat(e.split(" ")[0][0]).concat(e.split(" ")[1][0])}}},58849:function(e,n,t){t.d(n,{Z:function(){return nb}});var i=t(7297),a=t(85893),o=t(10367),r=t(5616),s=t(22430),d=t(61730),c=t(98700),l=t(2845),h=t(39332),u=t(46566),p=t(26042),f=t(69396),v=t(99534),m=t(67294),b=t(41664),x=t.n(b),g=t(73987),Z=t(77533),w=t(98619),C=t(15861),j=t(69661),y=t(90948),P=t(51233),k=t(93946),S=t(326),M=t(97372),I=t(61896),_=t(25213),N=t(73752),A=t(39646),L=t(11214),F=t(86510),D=t(69308),R=t(94229),T=t(76638),Q=function(e){var n=[];return e.forEach(function(e){if(!e.hide){if(e.children){var t=Q(e.children);t.length&&n.push((0,f.Z)((0,p.Z)({},e),{children:t}))}else n.push(e)}}),n},z=function(e){var n=e.hasSageIntegration,t=e.hasXeroIntegration,i=e.hasAssetModule,a=e.hasWorkflows,o=e.hasDataReports,r=e.hasDataCharts,s=e.isMobile;return Q([{id:"navCreateJob",type:"actionButton",title:"Create work order",href:"/dashboard/issues/manage",icon:I.Z},{id:"navDashboardDrop",href:"/dashboard",icon:T.Z,title:"Dashboard",children:[{id:"navDashboard",title:"Dashboard",href:"/dashboard"},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot"},{id:"navTasks",title:"Tasks",href:"/dashboard/tasks"},{id:"navSearch",title:"Search",href:"/dashboard/search"}]},{id:"navWorkOrders",href:"/dashboard",icon:_.Z,title:"Work Orders",children:[{id:"navReactive",title:"Reactive",href:"/dashboard/issues"},{id:"navReactiveCreate",title:"Create Reactive",href:"/dashboard/issues/manage"},{id:"navQuote",title:"Quotes",href:"/dashboard/quotes"},{id:"navQuoteCreate",title:"Create Quote",href:"/dashboard/issues/manage?quoted=1"},{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"},{id:"NavPpmSchedules",title:"PPM Schedules",href:"/dashboard/scheduledjob"}]},{id:"navCustomersDrop",href:"/dashboard",title:"Customers",icon:N.Z,children:[{id:"navCustomers",title:"List",href:"/dashboard/customers"},{id:"navCustomersCreate",title:"Create",href:"/dashboard/customers/manage"}]},{id:"navLocationsDrop",href:"/dashboard",title:"Locations",icon:D.Z,children:[{id:"navLocations",title:"List",href:"/dashboard/properties"},{hide:!i,id:"navAssets",title:"Assets",href:"/dashboard/assets"}]},{id:"navSuppliersDrop",href:"/dashboard",title:"Suppliers",icon:A.Z,children:[{id:"navSuppliers",title:"List",href:"/dashboard/suppliers"},{id:"navSuppliersCreate",title:"Create",href:"/dashboard/suppliers/create"}]},{id:"navAutomations",href:"/dashboard",title:"Automation",icon:L.Z,children:[{id:"navEvents",title:"Events",href:"/dashboard/communications"},{hide:!a||s,id:"navWorkflowsFind",title:"Workflows",href:"/dashboard/workflows"}]},{id:"navData",href:"/dashboard",title:"Data",icon:F.Z,children:[{id:"navDataBusiness",title:"Charts",hide:!r,href:"/dashboard/data/business"},{id:"navDataFinancial",title:"Financial",href:"/dashboard/data/financial"},{id:"navFinancialReports",title:"Reports",hide:!o,href:"/dashboard/data/reports"},{hide:!n,id:"navPostAccounts",title:"Post Accounts",href:"/dashboard/data/postAccounts"},{hide:!t,id:"navXeroInvoices",title:"Xero",href:"/dashboard/data/xero"},]},{id:"navAccount",icon:R.Z,href:"/dashboard",title:"System settings",children:[{id:"navSettings",title:"System Settings",href:"/dashboard/settings/settings"},{id:"navAccount",title:"Company",href:"/dashboard/admins/view"},{id:"navAccounts",title:"Accounts",href:"/dashboard/account"},{id:"navUsers",title:"Users",href:"/dashboard/users"},{id:"navMedia",title:"Media",href:"/dashboard/media"},{id:"navServices",title:"Services",href:"/dashboard/services"},{id:"navCoverage",title:"Coverage",href:"/dashboard/coverage"},{id:"navSlas",title:"SLAs",href:"/dashboard/slas"},{id:"navCompliance",title:"Compliance",href:"/dashboard/compliance"},{id:"navCategories",title:"Categories",href:"/dashboard/taxonomy"},{id:"navAPI",title:"API",href:"/dashboard/api"}]}])},H=t(18586),B=t(53147),J=t(95486),W=t(15771),E=function(e){e.isCustomerOwner,e.isCustomerManager;var n=e.isCustomerUser,t=e.hasQuotesModule,i=e.hasPPMscheduleModule;return Q([{id:"navCreateJob",type:"actionButton",title:"Create work order",href:"/dashboard/issues/manage",icon:I.Z},{id:"navHomeMenu",title:"Dashboard",href:"/dashboard",icon:T.Z},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot",icon:B.Z},{id:"navWorksMenu",title:"Reactive works",icon:_.Z,children:[{id:"navCurrentJobs",title:"Current Jobs",href:"/dashboard/issues?show=current"},{id:"navWorkOrdersCreate",title:"Create Job",href:"/dashboard/issues/manage"},{id:"navJobHistory",title:"Job History",href:"/dashboard/issues?show=past"}]},{id:"navPPM",title:"Planned maintenance",icon:W.Z,children:[{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"},{hide:!i&&n,id:"NavPpmSchedules",title:"PPM Schedules",href:"/dashboard/scheduledjob"}]},{id:"navQuotes",title:"Quotes",icon:J.Z,hide:!t&&n,children:[{id:"navQuote",title:"Find Quote",href:"/dashboard/quotes"}]},{id:"navLocations",title:"Locations",href:"/dashboard/properties",icon:D.Z},{id:"account",title:"Account",href:"/dashboard/customers/view",icon:R.Z}])},q=[{id:"navFinanceMenu",title:"Finance",children:[{id:"navDashboard",title:"Data",href:"/dashboard/finance"}]},{id:"navAccountsMenu",icon:"cog",title:"Accounts Menu",children:[{id:"navAccounts",title:"Accounts",href:"/dashboard/account"},{id:"navAdminsCreate",title:"Create Admin",href:"/dashboard/admins/manage"},{id:"navSettingsDivider",divider:!0},{id:"navLeads",title:"Leads",href:"/dashboard/leads"},{id:"navFinanceCalculator",title:"Finance Calculator",href:"/dashboard/finance/calculator"},{id:"navStepperWorkflow",title:"Stepper Workflow",href:"/dashboard/stepper"}]}],O=[{id:"navHome",title:"Dashboard",href:"/dashboard",icon:T.Z},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot",icon:B.Z},{id:"navInstructionsMenu",title:"Reactive works",icon:_.Z,children:[{id:"navJobOffers",title:"Current offers",href:"/dashboard/issues?show=offered"},{id:"navYourJobs",title:"Reactive jobs",href:"/dashboard/issues?show=current"},{id:"navJobHistory",title:"Job history",href:"/dashboard/issues?show=past"}]},{id:"navPPM",title:"Planned maintenance",icon:W.Z,children:[{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"},{id:"NavPpmSchedules",title:"PPM Schedules",href:"/dashboard/scheduledjob"}]},{id:"navQuotes",title:"Quotes",icon:J.Z,children:[{id:"navQuote",title:"Find Quote",href:"/dashboard/quotes"}]},{id:"account",title:"Account",href:"/dashboard/suppliers/view",icon:R.Z}],U=t(90263),X=t(86886),G=t(29815),Y=t(75063),$=t(75436);function V(){var e=(0,i.Z)(['\n  subscription GetNotificationsCount($userId: Int!) {\n    meta: Notification_aggregate(\n      where: {\n        userId: { _eq: $userId }\n        Communication: { text: { _ilike: null } }\n        status: { _eq: "unread" }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']);return V=function(){return e},e}var K=(0,Y.Ps)(V()),ee=function(e){var n=localStorage.getItem("bearerToken"),t=(0,$.m)(K,{skip:!e||!n,variables:{userId:null==e?void 0:e.id}}).data;return{id:"navNotifications",to:"/dashboard/notifications",type:{as:"notification",count:(void 0===t?{meta:{aggregate:{totalCount:0}}}:t).meta.aggregate.totalCount}}},en=t(79793),et=t(15573),ei=t(39858),ea=t(68503),eo=t(31856),er=function(e,n){var t,i,o=ee(e),r=[];return(null===(i=n.accounts)||void 0===i?void 0:i.length)>1&&(r.push({id:"navAccountSwitchDivider",divider:!0}),n.accounts.forEach(function(n){if(n.id!==e.accountId){var t;r.push({id:"navAccountSwitch-".concat(n.id),title:"".concat(n.name," (").concat(null===(t=n.admin)||void 0===t?void 0:t.name,")"),href:"/account/switch?id=".concat(n.id),icon:ea.Z})}})),t=[{id:"navProfile",title:"Profile",href:"/dashboard/users/view?id=".concat(e.id),icon:et.Z},{id:"navNotifications",title:"Notifications",icon:function(){return(0,a.jsx)(U.Z,{badgeContent:o.type.count,max:999,color:"secondary",children:(0,a.jsx)(en.Z,{})})},href:"/dashboard/notifications"}].concat((0,G.Z)(r.length?r:[]),[{id:"navLogout",title:"Logout",href:"/account/logout",icon:ei.Z}]),"supplier"===e.accountType&&t.splice(1,0,{id:"navHoliday",title:"Holiday Time",href:"/dashboard/holidays",icon:eo.Z}),t},es=[{id:"navHome",title:"Dashboard",href:"/"},{id:"navSignIn",title:"Log in",href:"/account/sign-in"}],ed=t(51964),ec=t.n(ed),el=t(78462),eh=t(828),eu=t(11163),ep=t.n(eu),ef=t(87918),ev=t(57922),em=t(59334),eb=t(11057),ex=t(60181),eg=t(23508);function eZ(){var e=(0,i.Z)(["\n  padding-left: "," !important;\n  padding-bottom: "," !important;\n  text-wrap: nowrap;\n  svg {\n    font-size: 20px;\n    min-width: 24px;\n    min-height: 24px;\n    opacity: 0.5;\n  }\n"]);return eZ=function(){return e},e}function ew(){var e=(0,i.Z)(["\n  padding: 0 !important;\n  padding-left: "," !important;\n  padding-right: "," !important;\n"]);return ew=function(){return e},e}function eC(){var e=(0,i.Z)(["\n  svg {\n    font-size: 20px;\n    width: 20px;\n    height: 20px;\n    opacity: 0.5;\n  }\n"]);return eC=function(){return e},e}function ej(){var e=(0,i.Z)(["\n  margin-left: ",";\n"]);return ej=function(){return e},e}function ey(){var e=(0,i.Z)(["\n  height: 20px;\n  position: absolute;\n  right: 26px;\n  top: 12px;\n  z-index: 1;\n  span.MuiChip-label,\n  span.MuiChip-label:hover {\n    font-size: 11px;\n    cursor: pointer;\n  }\n"]);return ey=function(){return e},e}function eP(){var e=(0,i.Z)([""]);return eP=function(){return e},e}function ek(){var e=(0,i.Z)([""]);return ek=function(){return e},e}var eS=(0,o.ZP)(w.Z).withConfig({displayName:"SidebarNavListItem__Item",componentId:"sc-3b78b260-0"})(eZ(),function(e){return e.depth&&e.depth>0?"".concat(50*e.depth,"px"):e.collapsed?"22px":"16px"},function(e){return e.collapsed?"0px":"8px"}),eM=(0,o.ZP)(w.Z).withConfig({displayName:"SidebarNavListItem__ButtonItemContainer",componentId:"sc-3b78b260-1"})(ew(),function(e){return e.depth&&e.depth>0?"".concat(50*e.depth,"px"):"16px"},function(e){return e.depth&&e.depth>0?"".concat(50*e.depth,"px"):"16px"}),eI=(0,o.ZP)(eb.Z).withConfig({displayName:"SidebarNavListItem__ButtonItem",componentId:"sc-3b78b260-2"})(eC()),e_=(0,o.ZP)(em.Z).withConfig({displayName:"SidebarNavListItem__Title",componentId:"sc-3b78b260-3"})(ej(),function(e){return e.icon?e.collapsed?"25px":"16px":"0px"}),eN=(0,o.ZP)(ef.Z).withConfig({displayName:"SidebarNavListItem__Badge",componentId:"sc-3b78b260-4"})(ey()),eA=(0,o.ZP)(ex.Z).withConfig({displayName:"SidebarNavListItem__ExpandLessIcon",componentId:"sc-3b78b260-5"})(eP()),eL=(0,o.ZP)(eg.Z).withConfig({displayName:"SidebarNavListItem__ExpandMoreIcon",componentId:"sc-3b78b260-6"})(ek()),eF=function(e){var n=e.title,t=e.href,i=e.depth,o=void 0===i?0:i,r=e.children,s=e.icon,d=e.badge,c=e.open,l=e.type,h=void 0===l?"link":l,u=e.collapsed,p=(0,eh.Z)(m.useState(void 0!==c&&c),2),f=p[0],v=p[1],b=function(){v(function(e){return!e})};return r?(0,a.jsxs)(m.Fragment,{children:[(0,a.jsxs)(eS,{depth:o,color:"secondary",onClick:b,children:[s&&(0,a.jsx)(s,{}),(0,a.jsxs)(e_,{icon:!!s,depth:o,collapsed:u,children:[n,d&&(0,a.jsx)(eN,{color:"secondary",label:d})]}),f?(0,a.jsx)(eA,{}):(0,a.jsx)(eL,{})]}),(0,a.jsx)(ev.Z,{in:f,children:r})]}):t&&"link"===h?(0,a.jsx)(x(),{href:t,passHref:!0,children:(0,a.jsxs)(eS,{depth:o,color:"secondary",collapsed:u,children:[s&&(0,a.jsx)(s,{}),(0,a.jsxs)(e_,{icon:!!s,depth:o,collapsed:u,children:[n,d&&(0,a.jsx)(eN,{color:"secondary",label:d})]})]})}):t&&"actionButton"===h&&!u?(0,a.jsx)(eM,{depth:o,children:(0,a.jsx)(eI,{color:"secondary",variant:"contained",sx:{width:"100%",textTransform:"none"},onClick:function(){return ep().push(t)},children:(0,a.jsxs)(e_,{icon:!!s,depth:o,children:[n,d&&(0,a.jsx)(eN,{color:"secondary",label:d})]})})}):t&&"actionButton"===h&&u?(0,a.jsx)(eM,{depth:o,children:(0,a.jsx)(eb.Z,{color:"secondary",variant:"contained",sx:{minWidth:"auto",width:"40px",height:"26px"},onClick:function(){return ep().push(t)},children:s&&(0,a.jsx)(s,{})})}):n?(0,a.jsxs)(eS,{depth:o,color:"secondary",collapsed:u,children:[s&&(0,a.jsx)(s,{}),(0,a.jsxs)(e_,{icon:!!s,depth:o,collapsed:u,children:[n,d&&(0,a.jsx)(eN,{color:"secondary",label:d})]})]}):s?(0,a.jsx)(k.Z,{children:(0,a.jsx)(s,{})}):null},eD=function(e){var n=e.items,t=e.page,i=e.depth,o=e.currentRoute,r=e.collapsed;if(t.children&&!r){var s=t.children.some(function(e){return e.href===o});n.push((0,a.jsx)(eF,{depth:i,icon:t.icon,badge:t.badge,open:s,title:t.title,href:t.href,type:t.type,collapsed:r,children:(0,a.jsx)(eR,{depth:i+1,pages:t.children})},t.title))}else{var d,c=null==t?void 0:null===(d=t.children)||void 0===d?void 0:d.some(function(e){return e.href===o});n.push((0,a.jsx)(eF,{depth:i,href:t.href,icon:t.icon,badge:t.badge,open:c,title:t.title,type:t.type,collapsed:r},t.title))}return n},eR=function(e){var n=e.pages,t=e.depth,i=e.collapsed,o=(0,eu.useRouter)().pathname,r=n.reduce(function(e,n){return eD({items:e,page:n,currentRoute:o,depth:t,collapsed:i})},[]);return(0,a.jsx)(m.Fragment,{children:r})};function eT(){var e=(0,i.Z)(["\n  border-right: 1px solid rgba(0, 0, 0, 0.12);\n  flex-grow: 1;\n"]);return eT=function(){return e},e}function eQ(){var e=(0,i.Z)(["\n  opacity: 0.4;\n  text-transform: uppercase;\n  display: block;\n  color: #ffffff;\n  padding: ",";\n"]);return eQ=function(){return e},e}function ez(){var e=(0,i.Z)(["\n  ","\n"]);return ez=function(){return e},e}var eH=function(e){return(0,o.iv)(eT())},eB=(0,o.ZP)(C.Z).withConfig({displayName:"SidebarNav__Title",componentId:"sc-2eed33c0-0"})(eQ(),function(e){return e.collapsed?"8px 8px":"8px 16px"}),eJ=(0,o.ZP)(ec()).withConfig({displayName:"SidebarNav__PerfectScrollbar",componentId:"sc-2eed33c0-1"})(ez(),eH),eW=function(e){var n=e.pages,t=e.title,i=e.collapsed,o=e.component,r=(0,v.Z)(e,["pages","title","collapsed","component"]),s=n.filter(function(e){return"actionButton"===e.type}),d=n.filter(function(e){return"actionButton"!==e.type});return(0,a.jsx)(eJ,{children:(0,a.jsx)(el.Z,{disablePadding:!0,children:(0,a.jsxs)(void 0===o?"nav":o,(0,f.Z)((0,p.Z)({},r),{children:[s.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eB,{collapsed:i,variant:"subtitle2",children:"Actions"}),(0,a.jsx)(eR,{collapsed:i,pages:s,depth:0})]}):null,t&&(0,a.jsx)(eB,{collapsed:i,variant:"subtitle2",sx:{padding:"8px 16px"},children:t}),(0,a.jsx)(eR,{collapsed:i,pages:d,depth:0})]}))})})},eE=t(69435);function eq(){var e=(0,i.Z)(["\n  background: ",";\n  padding-bottom: 16px;\n"]);return eq=function(){return e},e}function eO(){var e=(0,i.Z)([""]);return eO=function(){return e},e}function eU(){var e=(0,i.Z)(["\n  font-size: 0.7rem;\n  display: block;\n  padding: 1px;\n  text-overflow: ellipsis;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return eU=function(){return e},e}function eX(){var e=(0,i.Z)(["\n  span {\n    height: 12px;\n    width: 12px;\n    border-radius: 50%;\n  }\n"]);return eX=function(){return e},e}var eG=o.ZP.div.withConfig({displayName:"SidebarFooter__Footer",componentId:"sc-e3b0dc3a-0"})(eq(),function(e){return e.theme.NAVBAR.newFooterBackground}),eY=(0,o.ZP)(C.Z).withConfig({displayName:"SidebarFooter__FooterText",componentId:"sc-e3b0dc3a-1"})(eO()),e$=(0,o.ZP)(C.Z).withConfig({displayName:"SidebarFooter__FooterSubText",componentId:"sc-e3b0dc3a-2"})(eU()),eV=(0,o.ZP)(U.Z).withConfig({displayName:"SidebarFooter__FooterBadge",componentId:"sc-e3b0dc3a-3"})(eX()),eK=function(e){var n=e.collapsed,t=(0,v.Z)(e,["collapsed"]),i=(0,l.x)().user,o=(0,H.q)(),s=es;return i&&(s=er(i,o)),(0,a.jsxs)(eG,(0,f.Z)((0,p.Z)({},t),{children:[(0,a.jsxs)(X.ZP,{container:!0,spacing:2,sx:{padding:2},children:[(0,a.jsx)(X.ZP,{item:!0,children:(0,a.jsx)(eV,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:!!i&&(0,a.jsx)(j.Z,(0,p.Z)({},(0,eE.G)([i.nameFirst,i.nameLast].join(" "))))})}),(0,a.jsx)(X.ZP,{item:!0,sx:{width:"70%"},children:!n&&!!i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(eY,{children:[i.nameFirst," (",i.accountType,")"]}),(0,a.jsx)(e$,{variant:"caption",children:i.email})]})})]}),(0,a.jsx)(r.Z,{sx:{paddingLeft:n?0:1},children:(0,a.jsx)(eW,{pages:s,collapsed:n})})]}))},e0=t(41255),e1=t(63139),e2=(0,y.ZP)(Z.ZP)(function(e){var n=e.collapsed,t=e.sm,i=e.theme;return{width:t?"0px":"68px",transition:"width 0.5s",background:i.palette.muiPrimary.main,borderRight:0,overflowX:"hidden","& > div":{borderRight:0},"& p":{color:"#eeeeee"},"& .MuiPaper-root":(0,p.Z)((0,f.Z)((0,p.Z)({},!t&&{width:"".concat(n?68:258,"px")},t&&{width:"100%"}),{transition:"width 0.5s",background:i.palette.muiPrimary.main}),n&&{overflow:"hidden"})}}),e6=(0,y.ZP)(w.Z)(function(){return{maxHeight:"60px",justifyContent:"flex-start",cursor:"pointer",background:"#232f3e","& p":{fontSize:"1.25rem"}}}),e3=(0,y.ZP)(j.Z)(function(){return{width:"32px",height:"32px"}}),e4=(0,y.ZP)(r.Z)(function(){return{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",color:"#eeeeee",marginTop:"16px"}}),e8=(0,y.ZP)(r.Z)(function(){return{height:"64px"}}),e5=(0,y.ZP)(r.Z)(function(e){return{width:"100%",height:"100%",maxHeight:"64px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",position:"fixed",zIndex:1199,background:e.theme.palette.muiPrimary.main}}),e9=(0,y.ZP)(j.Z)(function(){return{width:"42px",height:"42px"}}),e7=(0,y.ZP)(S.Z)(function(e){return{width:"36px",height:"36px",color:e.theme.palette.secondary.main}}),ne=(0,y.ZP)(M.Z)(function(e){return{width:"24px",height:"24px",color:e.theme.palette.white.main}}),nn=(0,y.ZP)(r.Z)(function(e){var n=e.sm;return(0,p.Z)({width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},n&&{minHeight:"64px",padding:"0 20px"})}),nt=function(e){e.items;var n,t,i,o,s,c,h,u,b,Z,w,j,y=e.showFooter;(0,v.Z)(e,["items","showFooter"]);var S=(0,e1.s)(),M=(0,d.Z)("(max-width: 600px)")||S,I=(0,H.q)(),N=(null==I?void 0:null===(t=I.admin)||void 0===t?void 0:null===(i=t.modules)||void 0===i?void 0:i.sageIntegration)||!1,A=null==I?void 0:null===(o=I.admin)||void 0===o?void 0:null===(s=o.modules)||void 0===s?void 0:s.assets,L=null==I?void 0:null===(c=I.admin)||void 0===c?void 0:null===(h=c.modules)||void 0===h?void 0:h.workflows,F=null==I?void 0:null===(u=I.admin)||void 0===u?void 0:null===(b=u.modules)||void 0===b?void 0:b.dataReports,D=null==I?void 0:null===(Z=I.admin)||void 0===Z?void 0:null===(w=Z.modules)||void 0===w?void 0:w.dataCharts,J=(0,H.q)(),U=J.admin,X=J.hasUserModule,G=(0,l.x)().hasRole,Y=G("customer_owner"),$=G("customer_manager"),V=G("customer_user"),K=G("tenant_user"),ee=X("quotes"),en=X("ppmSchedules"),et=((0,m.useContext)(g.Z)||{}).user,ei=(0,m.useState)(!0),ea=ei[0],eo=ei[1],er=function(){eo(!0)},es=function(){eo(!1)},ed={},ec="permanent",el=null==U?void 0:U.media,eh=null==el?void 0:el.find(function(e){return"themeLogo"===e.item.category}),eu=eh?"".concat("https://cleverly-pre-prod-media.s3.eu-west-2.amazonaws.com","/").concat(eh.item.filename):"/static/logo/icon-white.png";if(et)switch(et.accountType){case"admin":ed=z({hasSageIntegration:N,hasXeroIntegration:!!(null===(j=(0,e0.RM)(et.id))||void 0===j?void 0:j.companyId),hasAssetModule:A,hasWorkflows:L,hasDataReports:F,hasDataCharts:D,isMobile:S});break;case"customer":ed=E({isCustomerOwner:Y,isCustomerManager:$,isCustomerUser:V,hasQuotesModule:ee,hasPPMscheduleModule:en});break;case"superadmin":ed=q;break;case"supplier":ed=O;break;case"tenant":n={isTenantUser:K,hasQuotesModule:ee,hasPPMscheduleModule:en},ed=(n.isTenantUser,n.hasQuotesModule,n.hasPPMscheduleModule,Q([{id:"navDashboardDrop",title:"Dashboard",href:"/dashboard",icon:T.Z},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot",icon:B.Z},{id:"navWorksMenu",title:"Reactive works",icon:_.Z,children:[{id:"navCurrentJobs",title:"Current Jobs",href:"/dashboard/issues?show=current"},{id:"navJobHistory",title:"Job History",href:"/dashboard/issues?show=past"}]},{id:"navPPM",title:"Planned maintenance",icon:W.Z,children:[{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"}]},{id:"navUserDropdown"},{id:"account",title:"Account",href:"/dashboard/tenant/view",icon:R.Z}]));break;default:ed=[]}else ed=[];return M&&(ec="persistent"),(0,a.jsxs)(a.Fragment,{children:[M&&(0,a.jsx)(e8,{children:(0,a.jsxs)(e5,{children:[(0,a.jsx)(k.Z,{onClick:function(){return eo(!1)},children:(0,a.jsx)(e7,{})}),(0,a.jsx)(x(),{href:"/dashboard",children:(0,a.jsx)(e9,{src:eu,alt:"Cleverly logo",children:(0,a.jsx)("img",{width:"42",height:"42",src:"/static/logo/icon-white.png"})})})]})}),(0,a.jsxs)(e2,(0,f.Z)((0,p.Z)({collapsed:ea,variant:ec},!M&&{onMouseLeave:er,onMouseEnter:es},M&&{open:!ea}),{sm:M,children:[(0,a.jsxs)(nn,{sm:M,children:[(0,a.jsx)(x(),{href:"/dashboard",children:M?(0,a.jsxs)(P.Z,{width:"100%",direction:"row",alignItems:"center",children:[(0,a.jsx)(e9,{src:eu,alt:"Cleverly logo",children:(0,a.jsx)("img",{width:"42",height:"42",src:"/static/logo/icon-white.png"})}),(0,a.jsx)(r.Z,{ml:2,children:(0,a.jsx)(C.Z,{fontSize:"20px",children:"Cleverly"})})]}):(0,a.jsxs)(e6,{children:[(0,a.jsx)(e3,{src:eu,alt:"Cleverly logo",children:(0,a.jsx)("img",{width:"32",height:"32",src:"/static/logo/icon-white.png"})}),!ea&&(0,a.jsx)(r.Z,{ml:1,children:(0,a.jsx)(C.Z,{children:"Cleverly"})})]})}),M&&(0,a.jsx)(k.Z,{onClick:function(){return eo(!0)},children:(0,a.jsx)(ne,{})})]}),(0,a.jsxs)(e4,{children:[(0,a.jsx)(eW,{title:"Pages",collapsed:ea,pages:ed}),!!(void 0===y||y)&&(0,a.jsx)(eK,{collapsed:ea})]})]}))]})},ni=t(46003),na=t(40656),no=t(9008),nr=t.n(no),ns=function(){var e=(0,H.q)().admin,n=(0,m.useState)(""),t=n[0],i=n[1];return(0,m.useEffect)(function(){var n,t,a=null==e?void 0:null===(n=e.media)||void 0===n?void 0:n.find(function(e){return"themeFavicon"===e.item.category});a?i("".concat("https://cleverly-pre-prod-media.s3.eu-west-2.amazonaws.com","/").concat(null==a?void 0:null===(t=a.item)||void 0===t?void 0:t.filename)):i("/static/favicon/CleverlyLogoBlack.png")},[ep().asPath,ep().pathname]),(0,a.jsxs)(nr(),{children:[(0,a.jsx)("title",{children:"Cleverly"}),(0,a.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:t})]})};function nd(){var e=(0,i.Z)(["\n  background: ",";\n  display: ",";\n  overflow: hidden;\n\n  .AppContent {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: ",";\n\n    overflow: hidden;\n  }\n\n  .responsive-fontSize {\n    font-size: 0.7vmax !important;\n  }\n  p,\n  span,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  label,\n  button,\n  ul,\n  li,\n  nav,\n  div {\n    font-family: ",";\n  }\n\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  height: 100vh;\n\n  * ::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n  }\n\n  * ::-webkit-scrollbar-track {\n    background-color: inherit;\n    border-radius: 6px;\n  }\n\n  /* Customize scrollbar handle */\n  * ::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.2);\n    border-radius: 6px;\n  }\n\n  /* Customize scrollbar track on hover */\n  * ::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n"]);return nd=function(){return e},e}function nc(){var e=(0,i.Z)([""]);return nc=function(){return e},e}function nl(){var e=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  flex: 1;\n  background: transparent;\n  border: none;\n  box-shadow: none;\n  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n    flex: none;\n  }\n\n  .MuiPaper-root .MuiPaper-root {\n    box-shadow: none;\n  }\n\n  .ChildWrapper {\n    padding: 16px;\n  }\n"]);return nl=function(){return e},e}function nh(){var e=(0,i.Z)(["\n  flex: 1;\n  height: 100%;\n  background-color: transparent !important;\n  overflow-y: scroll;\n"]);return nh=function(){return e},e}var nu=(0,o.ZP)(r.Z).withConfig({displayName:"MiraLayout__Box",componentId:"sc-86049c4e-0"})(c.ZP),np=o.ZP.div.withConfig({displayName:"MiraLayout__Root",componentId:"sc-86049c4e-1"})(nd(),function(e){return e.theme.COLOUR.muiLight},function(e){return e.sm?"block":"flex"},function(e){return e.sm?"calc(100% - 64px)":"100%"},function(e){return e.theme.THEME_TYPOGRAPHY.newFont}),nf=o.ZP.div.withConfig({displayName:"MiraLayout__AppContent",componentId:"sc-86049c4e-2"})(nc()),nv=(0,o.ZP)(nu).withConfig({displayName:"MiraLayout__MainContent",componentId:"sc-86049c4e-3"})(nl()),nm=(0,o.ZP)(nu).withConfig({displayName:"MiraLayout__ChildrenWrapContainer",componentId:"sc-86049c4e-4"})(nh()),nb=function(e){var n=e.children,t=(0,e1.s)(),i=(0,d.Z)("(max-width: 600px)"),o=(0,l.x)().user;return(0,a.jsxs)(s.Z,{theme:na.Q.muiTheme,children:[(0,a.jsx)(ns,{}),(0,a.jsxs)(np,{className:"root safe--area",sm:i||t,children:[(0,a.jsx)(nt,{}),(0,a.jsx)(nf,{className:"AppContent",children:(0,a.jsxs)(nv,{children:[(0,a.jsx)(nm,{className:"ChildWrapper",children:n}),ni.C1.isMobile&&(0,a.jsx)(u.d,{user:o})]})})]}),(0,a.jsx)(h.T,{user:o})]})}}}]);