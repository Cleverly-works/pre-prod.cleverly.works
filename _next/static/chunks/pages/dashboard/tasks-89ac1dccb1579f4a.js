(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5916],{96540:function(n,e,t){"use strict";var r=t(64836);e.Z=void 0;var o=r(t(64938)),i=t(85893);e.Z=(0,o.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},50594:function(n,e,t){"use strict";var r=t(64836);e.Z=void 0;var o=r(t(64938)),i=t(85893);e.Z=(0,o.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},85412:function(n,e,t){"use strict";var r=t(64836);e.Z=void 0;var o=r(t(64938)),i=t(85893);e.Z=(0,o.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1"}),"DeleteRounded")},40055:function(n,e,t){"use strict";var r=t(64836);e.Z=void 0;var o=r(t(64938)),i=t(85893);e.Z=(0,o.default)((0,i.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done")},12282:function(n,e,t){"use strict";var r=t(64836);e.Z=void 0;var o=r(t(64938)),i=t(85893);e.Z=(0,o.default)((0,i.jsx)("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"EditRounded")},71496:function(n,e,t){"use strict";var r=t(64836);e.Z=void 0;var o=r(t(64938)),i=t(85893);e.Z=(0,o.default)((0,i.jsx)("path",{d:"M8.12 9.29 12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7a.9959.9959 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0"}),"KeyboardArrowDownRounded")},11961:function(n,e,t){"use strict";var r=t(64836);e.Z=void 0;var o=r(t(64938)),i=t(85893);e.Z=(0,o.default)([(0,i.jsx)("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42M13 20.01 4 11V4h7v-.01l9 9z"},"0"),(0,i.jsx)("circle",{cx:"6.5",cy:"6.5",r:"1.5"},"1")],"LocalOfferOutlined")},81261:function(n,e,t){"use strict";var r=t(64836);e.Z=void 0;var o=r(t(64938)),i=t(85893);e.Z=(0,o.default)((0,i.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage")},55843:function(n,e,t){"use strict";t.d(e,{Z:function(){return y}});var r,o,i,a,s,l=t(39725),c=t(51174),u=t(67294),d=t(45697),p=t(10367),h=t(66349),f=t(55255),g={xxsSize:"0.25rem",xsSize:"0.5rem",smSize:"0.75rem",mdSize:"1rem",lgSize:"1.5rem",xlSize:"2rem",xxlSize:"2.5rem",xxxlSize:"3rem"},m=function(n){var e="",t=0;return(n.forEach(function(n){n.v&&(t++,e+="".concat(n.k,": ").concat(g[n.v+"Size"],";\n      ").concat(f.Z.desktop(r||(r=(0,c.Z)(["\n        ",": calc("," * 2);"])),n.k,g[n.v+"Size"]),"\n      "))}),0===t)?(0,p.iv)(o||(o=(0,c.Z)(["\n      margin-bottom: ",";\n      ","\n    "])),g.mdSize,f.Z.desktop(i||(i=(0,c.Z)(["\n        margin-bottom: calc("," * 2);"])),g.mdSize)):(0,p.iv)(a||(a=(0,c.Z)(["\n    ","\n  "])),e)},v=function(n){var e=n.children,t=n.className,r=n.content,o=n.margin,i=n.marginX,a=n.marginY,s=n.marginTop,l=n.marginRight,c=n.marginBottom,d=n.marginLeft,p=n.padding,h=n.paddingX,f=n.paddingY,g=n.paddingTop,m=n.paddingRight,v=n.paddingBottom,y=n.paddingLeft;return u.createElement(x,{className:t,margin:o,marginX:i,marginY:a,marginTop:s,marginRight:l,marginBottom:c,marginLeft:d,padding:p,paddingX:h,paddingY:f,paddingTop:g,paddingRight:m,paddingBottom:v,paddingLeft:y},r||e)};v.displayName="Space";var x=p.ZP.div(s||(s=(0,c.Z)(["\n  margin: 0;\n  padding: 0;\n  ","\n"])),function(n){var e=n.margin,t=n.marginBottom,r=n.marginTop,o=n.marginLeft,i=n.marginRight,a=n.marginX,s=n.marginY,c=n.padding,u=n.paddingBottom,d=n.paddingLeft,p=n.paddingRight,h=n.paddingTop,f=n.paddingX,g=n.paddingY;return m([{k:"margin",v:e},{k:"margin-bottom",v:t},{k:"margin-left",v:o},{k:"margin-right",v:i},{k:"margin-top",v:r},{k:"padding",v:c},{k:"padding-bottom",v:u},{k:"padding-left",v:d},{k:"padding-right",v:p},{k:"padding-top",v:h}].concat((0,l.Z)(s?[{k:"margin-top",v:s},{k:"margin-bottom",v:s}]:[]),(0,l.Z)(a?[{k:"margin-left",v:a},{k:"margin-right",v:a}]:[]),(0,l.Z)(g?[{k:"padding-top",v:g},{k:"padding-bottom",v:g}]:[]),(0,l.Z)(f?[{k:"padding-left",v:f},{k:"padding-right",v:f}]:[])))});v.propTypes={children:d.node,content:d.string,margin:(0,d.oneOf)(Object.values(h.Z)),marginY:(0,d.oneOf)(Object.values(h.Z)),marginX:(0,d.oneOf)(Object.values(h.Z)),marginTop:(0,d.oneOf)(Object.values(h.Z)),marginRight:(0,d.oneOf)(Object.values(h.Z)),marginBottom:(0,d.oneOf)(Object.values(h.Z)),marginLeft:(0,d.oneOf)(Object.values(h.Z)),padding:(0,d.oneOf)(Object.values(h.Z)),paddingY:(0,d.oneOf)(Object.values(h.Z)),paddingX:(0,d.oneOf)(Object.values(h.Z)),paddingTop:(0,d.oneOf)(Object.values(h.Z)),paddingRight:(0,d.oneOf)(Object.values(h.Z)),paddingBottom:(0,d.oneOf)(Object.values(h.Z)),paddingLeft:(0,d.oneOf)(Object.values(h.Z))};var y=v},49501:function(n,e,t){"use strict";var r,o=t(51174),i=t(67294),a=t(45697),s=t(10367),l=t(55843),c=t(51466),u=function(n){var e=n.children,t=n.id,r=n.label,o=n.show,a=n.size;return i.createElement(d,{hasChild:e,htmlFor:t,show:o},i.createElement(l.Z,{marginBottom:"xs"},i.createElement(c.Z,{size:null!=a?a:"md",colour:"darkText",content:r})),e)};u.displayName="FormLabel";var d=s.ZP.label(r||(r=(0,o.Z)(["\n  display: ",";\n  margin-bottom: ",";\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n"])),function(n){return n.show?"block":"none"},function(n){return n.hasChild?"1rem":"0"});u.propTypes={children:a.node,id:a.string,label:a.string,show:a.bool},u.defaultProps={show:!0},e.Z=u},76312:function(n,e,t){"use strict";var r,o=t(18391),i=t(51174),a=t(67294),s=t(45697),l=t(10367),c=t(28368),u=Array(12).fill(""),d=l.ZP.div(r||(r=(0,i.Z)(["\n  display: inline-block;\n  height: ","px;\n  position: relative;\n  width: ","px;\n\n  div {\n    animation: lds-spinner 1.2s linear infinite;\n    transform-origin: ","px ","px;\n\n    ::after {\n      background: ",";\n      border-radius: ","%;\n      content: ' ';\n      display: block;\n      height: ","px;\n      left: ","px;\n      position: absolute;\n      top: ","px;\n      width: ","px;\n    }\n  }\n\n  ","\n\n  @keyframes lds-spinner {\n    0% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n"])),function(n){return n.size},function(n){return n.size},function(n){return n.size/2},function(n){return n.size/2},function(n){var e=n.context;return n.theme.COLOUR[e]},function(n){return n.size/4},function(n){return n.size/4-2},function(n){return n.size/2-3},function(n){return n.size/10-5},function(n){return n.size/10-2},function(n){var e=n.spinner,t="";return e.forEach(function(n,e){t+="\n        div:nth-child(".concat(e+1,") {\n          transform: rotate(").concat(30*e,"deg);\n          animation-delay: ").concat(-1.1+parseFloat(.1*e),"s;\n        }\n      ")}),t}),p=function(n){return a.createElement(d,(0,o.Z)({},n,{spinner:u}),u.map(function(n,e){return a.createElement("div",{key:"spin"+e})}))};p.displayName="LdsSpinner",p.propTypes={size:s.number,context:(0,s.oneOf)(Object.values(c.Z))},p.defaultProps={context:"dark",size:56},e.Z=p},18645:function(n,e,t){"use strict";var r,o=t(51174),i=t(18391),a=t(66080),s=t(67294),l=t(45697),c=t(10367),u=["children","dataCy","indicator"],d=function(n){var e=n.children,t=n.dataCy,r=n.indicator,o=(0,a.Z)(n,u);return s.createElement(p,(0,i.Z)({"data-cy":t},o),r||e)};d.displayName="PageLoading";var p=c.ZP.div(r||(r=(0,o.Z)(["\n  align-items: center;\n  background-color: ",";\n  color: #fff;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  opacity: ",";\n  position: ",";\n  right: 0;\n  top: 0;\n  width: 100%;\n  z-index: 99;\n"])),function(n){return n.backgroundColor},function(n){return n.opacity},function(n){return n.position});d.propTypes={backgroundColor:l.string,children:l.any,dataCy:l.string,indicator:l.any,opacity:l.number,position:l.string},d.defaultProps={backgroundColor:"#fff",dataCy:"loadingIndicator",opacity:1,position:"fixed"},e.Z=d},61510:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/tasks",function(){return t(11374)}])},12547:function(n,e,t){"use strict";t.d(e,{r:function(){return d}});var r=t(26042),o=t(69396),i=t(85893),a=t(45697),s=t.n(a),l=t(41664),c=t.n(l),u=t(23795),d=function(n){var e=n.children,t=n.href,a=n.noWrap,s=n.target,l=n.sx,d=void 0===l?{}:l;return a?(0,i.jsx)(i.Fragment,{children:e}):t?(0,i.jsx)(c(),{href:t,target:s,passHref:!0,children:(0,i.jsx)(u.Z,(0,o.Z)((0,r.Z)({sx:d},n),{children:e}))}):(0,i.jsx)(u.Z,(0,o.Z)((0,r.Z)({sx:d},n),{children:e}))};d.defaultProps={onClick:function(n){n.stopPropagation()}},d.propTypes={onClick:s().func,href:s().string,noWrap:s().bool,color:s().string}},93884:function(n,e,t){"use strict";t.d(e,{C:function(){return h}});var r=t(26042),o=t(69396),i=t(85893);t(67294);var a=t(45697),s=t(90948),l=t(15861),c=t(51233),u=t(11057),d=t(61730),p=(0,s.ZP)("img")({width:"300px",height:"250px"}),h=function(n){var e=n.imageSrc,t=n.sx,a=n.imageSx,s=n.title,h=n.titleSx,f=n.subtitleFirstLine,g=n.subtitleFirstLineSx,m=n.subtitleSecondLine,v=n.subtitleSecondLineSx,x=n.buttonText,y=n.onAction,b=(0,d.Z)("(max-width: 400px)");return(0,i.jsxs)(c.Z,{sx:(0,o.Z)((0,r.Z)({},t),{width:"100%",height:"100%"}),justifyContent:"center",alignItems:"center",spacing:2,color:"#757575",children:[(0,i.jsx)(p,{src:e,sx:(0,o.Z)((0,r.Z)({},a),{width:b?"250px":"300px"})}),(0,i.jsx)(l.Z,{typography:"h5",sx:(0,r.Z)({},h),children:s}),(0,i.jsxs)(c.Z,{alignItems:"center",sx:{padding:"0px 10px",textAlign:"center"},children:[(0,i.jsx)(l.Z,{sx:(0,r.Z)({},g),children:f}),(0,i.jsx)(l.Z,{sx:(0,r.Z)({},v),children:m})]}),x&&y&&(0,i.jsx)(u.Z,{variant:"contained",color:"secondary",onClick:y,children:x})]})};h.propTypes={imageSrc:a.string,title:a.string,subtitleFirstLine:a.string,subtitleSecondLine:a.string,onAction:a.func,sx:a.object,imageSx:a.object,titleSx:a.object,subtitleFirstLineSx:a.object,subtitleSecondLineSx:a.object},h.defaultProps={title:"",subtitleFirstLine:"",subtitleSecondLine:"",sx:{},imageSx:{},titleSx:{},subtitleFirstLineSx:{},subtitleSecondLineSx:{},onAction:null}},66321:function(n,e,t){"use strict";t.d(e,{E:function(){return m}});var r=t(26042),o=t(69396),i=t(85893),a=t(45697),s=t.n(a),l=t(94054),c=t(50480),u=t(56815),d=t(40476),p=t(79717),h=t(36872),f=t(51233),g=t(15861),m=function(n){var e=n.label,t=n.options,a=n.error,s=n.helperText,m=n.stackProps,x=n.formControlProps,y=n.labelLeft,b=function(n){var e=n.children;return(0,i.jsx)(i.Fragment,{children:e})};return(0,i.jsxs)(l.Z,(0,o.Z)((0,r.Z)({sx:{m:3},error:a,variant:"standard"},void 0===x?{}:x),{children:[(0,i.jsxs)(f.Z,(0,o.Z)((0,r.Z)({},y&&v),{children:[e&&(0,i.jsx)(d.Z,{id:"radio-group",color:"secondary",children:e}),(0,i.jsx)(p.Z,(0,o.Z)((0,r.Z)({},n),{"aria-labelledby":"radio-group",children:(0,i.jsx)(f.Z,(0,o.Z)((0,r.Z)({},void 0===m?{}:m),{children:t.map(function(n){var e=n.value,t=n.label,r=n.icon,o=n.ParentComponent;return(0,i.jsx)(void 0===o?b:o,{children:(0,i.jsx)(c.Z,{value:e,control:(0,i.jsx)(h.Z,{color:"secondary"}),label:(0,i.jsxs)(f.Z,{direction:"row",alignItems:"center",spacing:1,children:[r,(0,i.jsx)(g.Z,{children:t})]})})})})}))}))]})),(0,i.jsx)(u.Z,{children:s})]}))};m.defaultProps={options:[],error:!1,helperText:"",stackProps:{},formControlProps:{},labelLeft:!1},m.propTypes={label:s().string,options:s().arrayOf(s().shape({label:s().string.isRequired,value:s().any.isRequired,ParentComponent:s().elementType})).isRequired,error:s().bool,helperText:s().string,stackProps:s().object,formControlProps:s().object,labelLeft:s().bool};var v={direction:"row",alignItems:"center",flexWrap:"wrap",spacing:1}},92321:function(n,e,t){"use strict";t.d(e,{P:function(){return j}});var r=t(26042),o=t(69396),i=t(85893),a=t(67294),s=t(10166),l=t(45697),c=t.n(l),u=t(94054),d=t(47312),p=t(18972),h=t(18360),f=t(56815),g=t(51233),m=t(15861),v=t(5616),x=t(87918),y=t(69368),b={text:function(n){var e=n.option,t=n.multiple,r=n.index;return t&&r>0?", ".concat(e.label):e.label},textWithIcon:function(n){var e=n.option;return(0,i.jsxs)(g.Z,{direction:"row",alignItems:"center",spacing:1,children:[e.icon,(0,i.jsxs)(m.Z,{children:[" ",e.label]})]})},chip:function(n){var e=n.chipProps,t=n.option;return(0,a.createElement)(x.Z,(0,o.Z)((0,r.Z)({},e),{key:t.value,label:t.label,icon:t.icon,sx:{color:t.color,bgcolor:t.bgcolor}}))}},Z={text:function(n){return n.option.label},textWithIcon:function(n){var e=n.option;return(0,i.jsxs)(g.Z,{direction:"row",alignItems:"center",spacing:1,children:[e.icon,(0,i.jsxs)(m.Z,{children:[" ",e.label]})]})},chip:function(n){var e=n.chipProps,t=n.option;return(0,a.createElement)(x.Z,(0,o.Z)((0,r.Z)({},e),{key:t.value,label:t.label,icon:t.icon,sx:{color:t.color,bgcolor:t.bgcolor}}))},checkbox:function(n){var e=n.option,t=n.value;return(0,i.jsxs)(g.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,i.jsx)(y.Z,{color:"secondary",sx:{height:"10px"},checked:t.indexOf(e.value)>-1}),(0,i.jsxs)(m.Z,{children:[" ",e.label]})]})}},j=function(n){var e=n.label,t=n.value,a=n.onChange,s=n.leftSideLabel,l=n.options,c=n.inputComponent,u=n.selectComponent,d=n.withoutSelectIcon,g=n.formControl,x=n.chipProps,y=n.selectProps,j=function(n){return l.find(function(e){return e.value===n})};return(0,i.jsxs)(T,(0,o.Z)((0,r.Z)({},g),{leftSideLabel:s,withoutSelectIcon:d,children:[e&&s&&(0,i.jsx)(m.Z,{children:e}),e&&!s&&(0,i.jsx)(w,{shrink:""!==t&&void 0!==t,children:e}),(0,i.jsx)(h.Z,(0,o.Z)((0,r.Z)({displayEmpty:!0},y),{value:t,onChange:a,inputProps:{shrink:!0},renderValue:function(){if(Array.isArray(t))return(0,i.jsx)(v.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.map(function(n,e){var t=j(n);return t?b[c]({chipProps:x,option:t,multiple:!0,index:e}):""})});var n=j(t);return n?(0,i.jsx)(v.Z,{children:b[c]({chipProps:x,option:n})}):""},children:l.map(function(n){return(0,i.jsx)(p.Z,{value:n.value,children:Z[u]({chipProps:x,option:n,value:t})},n.value)})})),(null==g?void 0:g.helperText)&&(0,i.jsx)(f.Z,{children:g.helperText})]}))};j.defaultProps={label:"",onChange:function(){},leftSideLabel:!1,options:[],inputComponent:"text",selectComponent:"text",withoutSelectIcon:!1,formControl:{error:!1,helperText:""},chipProps:{size:"small"},selectProps:{}},j.propTypes={label:c().string,value:c().oneOfType([c().string,c().array]),onChange:c().func,leftSideLabel:c().bool,options:c().arrayOf(c().shape({label:c().string.isRequired,value:c().string.isRequired,color:c().string,bgcolor:c().string,icon:c().node}).isRequired),inputComponent:c().oneOf(["text","textWithIcon","chip"]),selectComponent:c().oneOf(["text","textWithIcon","chip","checkbox"]),withoutSelectIcon:c().bool,formControl:c().object,chipProps:c().object,selectProps:c().object};var T=(0,s.Z)(u.Z)(function(n){n.theme;var e=n.leftSideLabel,t=n.withoutSelectIcon;return{"&.MuiFormControl-root":(0,r.Z)({display:"flex",flexDirection:"column",alignItems:"flex-start"},e&&{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"}),"& .MuiSelect-icon":(0,r.Z)({},t&&{display:"none"})}}),w=(0,s.Z)(d.Z)(function(n){return{"&.MuiFormLabel-root.MuiInputLabel-root.Mui-focused":{color:n.theme.palette.secondary.main}}})},28864:function(n,e,t){"use strict";t.d(e,{T:function(){return x}});var r=t(85893),o=t(45697),i=t.n(o),a=t(93946),s=t(97212),l=t(98619),c=t(59334),u=t(51233),d=t(50135),p=t(50594),h=t(40055),f=t(5336),g=t(10166),m=t(67294),v=t(42283),x=function(n){var e=n.tagEntityId,t=n.tagId,o=n.name,i=n.color,c=n.editable,g=n.onDelete,x=n.onColorChange,b=n.onNameChange,Z=(0,v.cI)({defaultValues:{name:o,color:i}}),j=Z.register,T=Z.handleSubmit,w=(0,m.useState)(null),k=w[0],C=w[1],S=function(){return[{icon:"delete",onClick:function(n){n.stopPropagation(),g(e)},tooltip:"Remove"},{icon:"edit",onClick:function(n){n.stopPropagation(),C("rename")},tooltip:"Rename"},{icon:"visibility",onClick:function(n){n.stopPropagation(),C("changeColor")},tooltip:"Change color"}]},_=function(n){n.stopPropagation(),C(null)},I=function(n){x({tagId:t,color:n.color}),C(null)},P=function(n){b({tagId:t,name:n.name}),C(null)};return(0,r.jsx)(s.ZP,{disablePadding:!0,secondaryAction:!c||!k&&(0,r.jsx)(f.C,{icon:"defaultHoriz",actionsData:S}),children:k?({changeColor:function(){return(0,r.jsxs)(u.Z,{width:"100%",direction:"row",justifyContent:"space-between",alignItems:"center",pl:"16px",pr:"16px",children:[(0,r.jsx)("input",{name:"color",ref:j,type:"color",style:{padding:0,border:"none","background-color":"unset"}}),(0,r.jsxs)(u.Z,{direction:"row",alignItems:"center",children:[(0,r.jsx)(a.Z,{size:"small",color:"danger",onClick:_,children:(0,r.jsx)(p.Z,{})}),(0,r.jsx)(a.Z,{size:"small",color:"success",onClick:T(I),children:(0,r.jsx)(h.Z,{})})]})]})},rename:function(){return(0,r.jsxs)(u.Z,{width:"100%",direction:"row",justifyContent:"space-between",alignItems:"center",pl:"16px",pr:"16px",children:[(0,r.jsx)(d.Z,{name:"name",inputRef:j,variant:"standard",color:"secondary"}),(0,r.jsxs)(u.Z,{direction:"row",alignItems:"center",children:[(0,r.jsx)(a.Z,{size:"small",color:"danger",onClick:_,children:(0,r.jsx)(p.Z,{})}),(0,r.jsx)(a.Z,{size:"small",color:"success",onClick:T(P),children:(0,r.jsx)(h.Z,{})})]})]})}})[k]():(0,r.jsx)(l.Z,{children:(0,r.jsx)(y,{primary:o,color:i})})},t)};x.defaultProps={onDelete:function(){},onColorChange:function(){},onNameChange:function(){},editable:!0},x.propTypes={tagEntityId:i().string.isRequired,tagId:i().string.isRequired,name:i().string.isRequired,color:i().string.isRequired,editable:i().bool,onDelete:i().func.isRequired,onColorChange:i().func.isRequired,onNameChange:i().func.isRequired};var y=(0,g.Z)(c.Z)(function(n){return n.theme,{"&.MuiListItemText-root .MuiListItemText-primary":{fontWeight:700,color:n.color}}})},48381:function(n,e,t){"use strict";t.d(e,{K:function(){return D}});var r=t(828),o=t(29815),i=t(85893),a=t(45697),s=t.n(a),l=t(50319),c=t(51738),u=t(26042),d=t(69396),p=t(67294),h=t(6812),f=t(11961),g=t(93362),m=t(23776),v=t(5616),x=t(98456),y=t(93946),b=t(78462),Z=t(18972),j=t(14564),T=t(51233),w=t(50135),k=t(28864),C=t(10166),S=t(2845),_=(0,g.D)(),I=function(n){var e=n.entityId,t=(n.getTagsForEntityQuery,n.getTagsForEntityVariables,n.refetchQueries),a=n.entity,s=n.handleDeleteTagEntity,g=(0,S.x)().user,j=(0,p.useState)(null),C=j[0],I=j[1],E=(0,p.useState)(""),D=E[0],L=E[1],O=(0,p.useState)(""),M=O[0],$=O[1],F=(0,p.useState)(""),Y=F[0],q=F[1],z=(0,h.a)(c.BU,{skip:!C,variables:{entityId:e,entity:a}}),A=z.data,R=(void 0===A?{tags:[]}:A).tags,N=z.loading,U=(0,h.a)(c.gI,{skip:!C,variables:{entityId:e,entity:a,q:""!==Y?"%".concat(Y,"%"):null}}),B=U.data,H=(void 0===B?{tags:[]}:B).tags,W=U.loading,Q=(0,r.Z)((0,l.D)(c.LE,{refetchQueries:["GetAllTags"].concat((0,o.Z)(t)),onCompleted:function(){$(""),L(null)}}),2),V=Q[0],G=Q[1].loading,X=(0,r.Z)((0,l.D)(c.g$,{refetchQueries:["GetAllTags"].concat((0,o.Z)(t))}),2),J=X[0],K=X[1].loading;(0,p.useEffect)(function(){var n=setTimeout(function(){q(M)},500);return function(){return clearTimeout(n)}},[M]);var nn=function(n){n.stopPropagation(),I(n.currentTarget)},ne=function(){I(null)},nt=function(n,t){"string"==typeof t?L({label:t}):t&&t.inputValue?(V({variables:{objects:[{entity:a,entityId:e,Taxonomy:{data:{type:"tags",status:"active",name:t.inputValue,meta:{color:"#0679d8"},isGroup:!1,adminId:g.adminId}}}]}}),L(null)):t&&t.value&&(V({variables:{objects:[{entity:a,entityId:e,taxonomyId:t.value}]}}),L(null))},nr=function(n,e){var t=_(n,e),r=e.inputValue,o=n.some(function(n){return r===n.label});return""===r||o||t.push({inputValue:r,label:'Add "'.concat(r,'"')}),t},no=function(n){return"string"==typeof n?n:n.inputValue?n.inputValue:n.label},ni=function(n){var e;J({variables:{tagId:n.tagId,object:{meta:{color:n.color}}}})},na=function(n){var e;J({variables:{tagId:n.tagId,object:{name:n.name}}})},ns=Boolean(C),nl=null==H?void 0:H.map(function(n){return{label:n.name,value:n.id}});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P,{id:ns?"tags-popover":void 0,open:ns,anchorEl:C,onClose:ne,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,i.jsxs)(v.Z,{sx:{maxHeight:"80vh",width:"280px",p:"10px",pt:"5px"},children:[(0,i.jsx)(m.Z,{freeSolo:!0,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:nl,value:D,onChange:nt,onInputChange:function(n,e){$(e)},filterOptions:nr,getOptionLabel:no,renderOption:function(n,e){return(0,i.jsx)(Z.Z,(0,d.Z)((0,u.Z)({},n),{children:e.label}))},renderInput:function(n){return(0,i.jsx)(w.Z,(0,d.Z)((0,u.Z)({},n),{variant:"standard",color:"secondary",label:"Search tag",InputProps:(0,d.Z)((0,u.Z)({},n.InputProps),{endAdornment:(0,i.jsxs)(i.Fragment,{children:[W||G?(0,i.jsx)(x.Z,{color:"inherit",size:20}):null,n.InputProps.endAdornment]})})}))},sx:{pl:"16px",pr:"16px"}}),N||K?(0,i.jsx)(T.Z,{width:"100%",alignItems:"center",p:4,children:(0,i.jsx)(x.Z,{color:"secondary"})}):(0,i.jsx)(b.Z,{children:R.map(function(n){var e;return(0,i.jsx)(k.T,{tagEntityId:n.id,tagId:n.tag.id,name:n.tag.name,color:null===(e=n.tag.meta)||void 0===e?void 0:e.color,onDelete:s,onColorChange:ni,onNameChange:na})})})]})}),(0,i.jsx)(y.Z,{color:"black",onClick:nn,children:(0,i.jsx)(f.Z,{sx:{height:"16px",width:"16px"}})})]})};I.defaultProps={entityId:null,entity:null,refetchQueries:[],handleDeleteTagEntity:function(){}},I.propTypes={entityId:s().number,entity:s().string,getTagsForEntityQuery:s().object,getTagsForEntityVariables:s().object,refetchQueries:s().array,handleDeleteTagEntity:s().func};var P=(0,C.Z)(j.ZP)(function(n){return n.theme,{"& .MuiPaper-root":{borderRadius:"12px"}}}),E=t(11975),D=function(n){var e=n.row,t=n.refetchQueries,a=n.entity,s=(0,r.Z)((0,l.D)(c.cS,{refetchQueries:["GetTaskTags"].concat((0,o.Z)(t))}),1)[0],u=function(n){s({variables:{tagEntityId:n}})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E.P,{tags:e.tags,title:e.title,handleDeleteTagEntity:u}),(0,i.jsx)(I,{entityId:e.id,refetchQueries:t,handleDeleteTagEntity:u,entity:a})]})};D.propTypes={row:s().object,refetchQueries:s().array},D.defaultProps={row:{},displayOnly:!1,refetchQueries:[],handleDeleteTagEntity:function(){}}},11975:function(n,e,t){"use strict";t.d(e,{P:function(){return h}});var r=t(85893),o=t(67294),i=t(45697),a=t.n(i),s=t(15861),l=t(14564),c=t(78462),u=t(51233),d=t(22186),p=t(28864),h=function(n){var e=n.tags,t=(n.title,n.handleDeleteTagEntity),i=(0,o.useState)(null),a=i[0],h=i[1],f=null==e?void 0:e.slice(0,5),g=(null==e?void 0:e.length)-(null==f?void 0:f.length),m=Boolean(a);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{direction:"row",spacing:1,children:f.map(function(n,e){var o;return(0,r.jsx)(d.V,{tagEntityId:n.id||e,name:n.tag.name,color:null===(o=n.tag.meta)||void 0===o?void 0:o.color,onDelete:t})})}),g>0&&(0,r.jsxs)(s.Z,{fontWeight:700,ml:1,onMouseEnter:function(n){h(n.currentTarget),n.stopPropagation()},children:["+",g]}),(0,r.jsx)(l.ZP,{id:m?"tags-in-table-popover":void 0,open:m,anchorEl:a,onClose:function(){return h(null)},anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,r.jsx)(c.Z,{children:null==e?void 0:e.map(function(n){var e;return(0,r.jsx)(p.T,{tagEntityId:n.id,tagId:n.tag.id,name:n.tag.name,color:null===(e=n.tag.meta)||void 0===e?void 0:e.color,editable:!1},n.tag.id)})})})]})};h.propTypes={tags:a().object,title:a().string},h.defaultProps={tags:{},displayOnly:!1,refetchQueries:[],handleDeleteTagEntity:function(){}}},57179:function(n,e,t){"use strict";t.d(e,{r:function(){return g}});var r=t(26042),o=t(69396),i=t(828),a=t(85893),s=t(67294),l=t(42283),c=t(73359),u=t(23776),d=t(98456),p=t(50135),h=t(87918),f=t(51738),g=function(n){var e=n.control,t=(0,s.useState)(""),g=t[0],m=t[1],v=(0,s.useState)(""),x=v[0],y=v[1],b=(0,i.Z)((0,c.t)(f.lx,{variables:{q:""!==x?"%".concat(x,"%"):null}}),2),Z=b[0],j=b[1],T=j.loading,w=j.data,k=(void 0===w?{items:[]}:w).items;return(0,s.useEffect)(function(){var n=setTimeout(function(){y(g)},500);return function(){return clearTimeout(n)}},[g]),(0,a.jsx)(l.Qr,{control:e,name:"tags",render:function(n){var e=n.value,t=n.onChange;return(0,a.jsx)(u.Z,{multiple:!0,limitTags:6,color:"secondary",onOpen:function(){return Z()},options:k,value:e||[],inputValue:g,onChange:function(n,e){t(e)},onInputChange:function(n,e){m(e)},getOptionLabel:function(n){return n.label},renderTags:function(n,e){return n.map(function(n,t){return(0,a.jsx)(h.Z,(0,r.Z)({size:"small",label:n.label},e({index:t})),t)})},renderInput:function(n){return(0,a.jsx)(p.Z,(0,o.Z)((0,r.Z)({},n),{variant:"standard",color:"secondary",label:"Select tags",InputProps:(0,o.Z)((0,r.Z)({},n.InputProps),{endAdornment:(0,a.jsxs)(a.Fragment,{children:[T?(0,a.jsx)(d.Z,{color:"inherit",size:20}):null,n.InputProps.endAdornment]})})}))}})}})}},51738:function(n,e,t){"use strict";t.d(e,{Aw:function(){return j},BU:function(){return m},C3:function(){return Z},LE:function(){return x},Zm:function(){return g},cS:function(){return y},g$:function(){return b},gI:function(){return f},lx:function(){return v}});var r=t(7297),o=t(75063);function i(){var n=(0,r.Z)(['\n  query GetTagsForEntity($q: String!, $limit: Int = 50, $offset: Int = 0) {\n    tags: Taxonomy(\n      where: { name: { _ilike: $q }, status: { _eq: "active" }, type: { _eq: "tags" } }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      id\n      name\n      meta\n    }\n  }\n']);return i=function(){return n},n}function a(){var n=(0,r.Z)(["\n  mutation CreateTag($objects: [Taxonomy_insert_input!]!) {\n    insert_Taxonomy(objects: $objects) {\n      returning {\n        id\n        name\n        meta\n      }\n    }\n  }\n"]);return a=function(){return n},n}function s(){var n=(0,r.Z)(['\n  query GetEntityTags($entityId: Int!, $entity: String!) {\n    tags: Taxonomy_Entity(\n      where: {\n        entity: { _eq: $entity }\n        entityId: { _eq: $entityId }\n        Taxonomy: { status: { _eq: "active" }, type: { _eq: "tags" } }\n      }\n      order_by: { id: desc }\n    ) {\n      id\n      tag: Taxonomy {\n        id\n        name\n        meta\n      }\n    }\n  }\n']);return s=function(){return n},n}function l(){var n=(0,r.Z)(['\n  query GetTagsForSelect($q: String, $limit: Int = 50, $offset: Int = 0) {\n    items: Taxonomy(\n      where: { name: { _ilike: $q }, status: { _eq: "active" }, type: { _eq: "tags" } }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      value: id\n      label: name\n    }\n  }\n']);return l=function(){return n},n}function c(){var n=(0,r.Z)(["\n  mutation CreateTagsAgainstEntity($objects: [Taxonomy_Entity_insert_input!]!) {\n    insert_Taxonomy_Entity(objects: $objects) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return c=function(){return n},n}function u(){var n=(0,r.Z)(["\n  mutation DeleteTagAgainstEntity($tagEntityId: Int!) {\n    delete_Taxonomy_Entity_by_pk(id: $tagEntityId) {\n      id\n      taxonomyId\n    }\n  }\n"]);return u=function(){return n},n}function d(){var n=(0,r.Z)(["\n  mutation UpdateTagAgainstEntity($tagId: Int!, $object: Taxonomy_set_input!) {\n    update_Taxonomy_by_pk(pk_columns: { id: $tagId }, _set: $object) {\n      id\n      name\n      meta\n    }\n  }\n"]);return d=function(){return n},n}function p(){var n=(0,r.Z)(["\n  mutation CreateTagsAgainstEntityWithFollowing($objects: [Taxonomy_Entity_insert_input!]!) {\n    insert_Taxonomy_Entity(objects: $objects) {\n      returning {\n        id\n        taxonomyId\n      }\n    }\n  }\n"]);return p=function(){return n},n}function h(){var n=(0,r.Z)(["\n  mutation DeleteTagAgainstEntityWithFollowing($where: Taxonomy_Entity_bool_exp!) {\n    delete_Taxonomy_Entity(where: $where) {\n      returning {\n        id\n        taxonomyId\n      }\n    }\n  }\n"]);return h=function(){return n},n}var f=(0,o.Ps)(i()),g=(0,o.Ps)(a()),m=(0,o.Ps)(s()),v=(0,o.Ps)(l()),x=(0,o.Ps)(c()),y=(0,o.Ps)(u()),b=(0,o.Ps)(d()),Z=(0,o.Ps)(p()),j=(0,o.Ps)(h())},79033:function(n,e,t){"use strict";t.d(e,{y:function(){return r}});var r=function(n){switch(n){case"ppm":return"PM";case"quote":return"Q";case"reactive":return"J";case"cppm":return"C";default:return""}}},62551:function(n,e,t){"use strict";t.d(e,{d:function(){return a}});var r=t(85893),o=t(11994),i=t(67294);function a(){var n=(0,i.useState)(null),e=n[0],t=n[1],a=(0,i.useCallback)(function(){t(null)},[]),s=(0,i.useMemo)(function(){if(null===e)return null;var n=e.content,t=e.keepMounted;return(0,r.jsx)(o.Z,{open:!0,keepMounted:t,onClose:a,children:n})},[e,a]),l=(0,i.useCallback)(function(n){var e=n.content,r=n.keepMounted;t({keepMounted:void 0===r||r,content:e({onClose:a})})},[a]);return[s,l]}},59938:function(n,e,t){"use strict";t.d(e,{X:function(){return f}});var r=t(14924),o=t(82670),i=t(828),a=t(7297),s=t(67294),l=t(6812),c=t(50319),u=t(75063),d=t(18586);function p(){var n=(0,a.Z)(["\n  query GetAccountUserFilters($accountUserId: Int!) {\n    accountUser: Account_User_by_pk(id: $accountUserId) {\n      filters\n    }\n  }\n"]);return p=function(){return n},n}function h(){var n=(0,a.Z)(["\n  mutation SetAccountUserFilters($accountUserId: Int!, $filters: jsonb) {\n    update_Account_User_by_pk(pk_columns: { id: $accountUserId }, _append: { filters: $filters }) {\n      id\n    }\n  }\n"]);return h=function(){return n},n}function f(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage",a=(0,d.q)().user,u=(0,s.useState)(function(){try{switch(t){case"network":case"state":return e;case"sessionStorage":return JSON.parse(window.sessionStorage.getItem(n))||e}}catch(r){return e}}),p=u[0],h=u[1],f=function(e){try{var i=(0,o.Z)(e,Function)?e(p):e;switch(h(i),t){case"network":v({variables:{accountUserId:null==a?void 0:a.accountUserId,filters:(0,r.Z)({},n,i)}});break;case"sessionStorage":window.sessionStorage.setItem(n,JSON.stringify(i))}}catch(s){}};(0,l.a)(g,{variables:{accountUserId:null==a?void 0:a.accountUserId},skip:"network"!==t,onCompleted:function(t){var r=t.accountUser;r&&h(r.filters[n]||e)}});var v=(0,i.Z)((0,c.D)(m),1)[0];return[p,f]}var g=(0,u.Ps)(p()),m=(0,u.Ps)(h())},11374:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nl}});var r=t(85893),o=t(26042),i=t(828),a=t(67294),s=t(30381),l=t.n(s),c=t(45697),u=t.n(c),d=t(81261),p=t(11057),h=t(2869),f=t(90629),g=t(51233),m=t(15861),v=t(6812),x=t(50319),y=t(7297),b=t(75063);function Z(){var n=(0,y.Z)(['\n  query GetTasksTable(\n    $where: Task_bool_exp\n    $limit: Int! = 50\n    $offset: Int\n    $orderBy: Task_order_by!\n  ) {\n    tasks: Task(where: $where, limit: $limit, offset: $offset, order_by: [$orderBy]) {\n      id\n      archived\n      status\n      priority\n      statusLog\n      meta\n      relatedLinks\n      title\n      content\n      dueDate\n      createdAt\n      updatedAt\n      adminId\n      userId\n      assignedAccountId\n      assignedUser: AssignedUser {\n        id\n        fullName\n      }\n      tags: Taxonomy(\n        where: {\n          entity: { _eq: "Task" }\n          Taxonomy: { status: { _eq: "active" }, type: { _eq: "tags" } }\n        }\n      ) {\n        id\n        tag: Taxonomy {\n          id\n          name\n          meta\n        }\n      }\n      jobId\n    }\n    meta: Task_aggregate(where: $where) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']);return Z=function(){return n},n}function j(){var n=(0,y.Z)(["\n  mutation TaskPartialUpdate($id: Int!, $object: Task_set_input!) {\n    update_Task_by_pk(pk_columns: { id: $id }, _set: $object) {\n      id\n      status\n      priority\n    }\n  }\n"]);return j=function(){return n},n}function T(){var n=(0,y.Z)(['\n  query GetTagsForTask($taskId: Int!, $q: String!, $limit: Int = 50, $offset: Int = 0) {\n    tags: Taxonomy(\n      where: {\n        name: { _ilike: $q }\n        status: { _eq: "active" }\n        type: { _eq: "tags" }\n        _not: { Taxonomy_Entities: { entity: { _eq: "Task" }, entityId: { _eq: $taskId } } }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      id\n      name\n      meta\n    }\n  }\n']);return T=function(){return n},n}var w=(0,b.Ps)(Z()),k=(0,b.Ps)(j());(0,b.Ps)(T());var C=t(15033),S=t(92321),_=t(5336),I=t(48381),P=t(69396),E=t(86886),D=t(11994),L=t(50135),O=t(61730),M=t(23776),$=t(87918),F=t(18972),Y=t(50480),q=t(69368),z=t(59938),A=t(42283),R=t(73359),N=t(10166),U=t(2845),B=t(33754),H=t(97092),W=t(57179),Q=t(4972),V=t(48580),G=function(n){var e=n.open,t=n.setOpen,s=n.initialFilters,l=n.filters,c=n.setFilters,u=(0,U.x)().user,d=(0,O.Z)("(max-width: 400px)")?4:0,h=(0,a.useState)(""),f=h[0],v=h[1],x=(0,i.Z)((0,z.X)("form_data_".concat(s.filterType),s),2),y=x[0],b=x[1],Z=(0,A.cI)({defaultValues:y}),j=Z.control,T=Z.handleSubmit,w=Z.register,k=Z.reset,C=(0,Z.watch)(),S=(0,i.Z)((0,R.t)(Q.A5,{variables:{accountId:u.adminId,q:""!==f?"%".concat(f,"%"):null}}),2),_=S[0],I=S[1],D=I.loading,N=I.data,G=(void 0===N?{items:[]}:N).items;(0,a.useEffect)(function(){e&&k(y)},[e]),(0,a.useEffect)(function(){b((0,P.Z)((0,o.Z)({},C),{filterType:s.filterType}))},[l]);var K=function(n){try{var e,r,i,a,s,l,d,p={status:(null===(e=n.status)||void 0===e?void 0:e.length)>0?null===(r=n.status)||void 0===r?void 0:r.map(function(n){return n.value}):null,assignedUserId:n.assignedToMe?u.id:null===(i=n.assignedUser)||void 0===i?void 0:i.value,priority:(null===(a=n.priority)||void 0===a?void 0:a.length)?null===(s=n.priority)||void 0===s?void 0:s.map(function(n){return n.value}):null,dueDate:n.dueDate,archived:n.archived,tags:(null===(l=n.tags)||void 0===l?void 0:l.length)>0?null===(d=n.tags)||void 0===d?void 0:d.map(function(n){return n.value}):null,q:n.search?"%".concat(n.search,"%"):null};c(function(n){return(0,o.Z)({},n,p)})}finally{t(!1)}},nn=function(){c(s),k(s),t(!1)};return(0,r.jsx)(X,{keepMounted:!0,open:e,onClose:function(){return t(!1)},children:(0,r.jsx)("form",{onSubmit:T(K),children:(0,r.jsx)(J,{children:(0,r.jsxs)(E.ZP,{container:!0,rowGap:4,children:[(0,r.jsx)(E.ZP,{container:!0,children:(0,r.jsx)(E.ZP,{item:!0,xs:12,children:(0,r.jsx)(L.Z,{fullWidth:!0,variant:"standard",color:"secondary",label:"Search...",name:"search",inputRef:w})})}),(0,r.jsxs)(E.ZP,{container:!0,columnSpacing:4,rowGap:d,children:[(0,r.jsx)(E.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(A.Qr,{control:j,name:"status",render:function(n){var e=n.value,t=n.onChange;return(0,r.jsx)(M.Z,{multiple:!0,limitTags:1,color:"secondary",options:H.jb,value:e||[],onChange:function(n,e){t(e)},renderOption:function(n,e){return(0,r.jsx)(F.Z,(0,P.Z)((0,o.Z)({},n),{children:(0,r.jsx)($.Z,{size:"small",label:e.label,icon:e.icon,sx:{color:e.color,bgcolor:e.bgcolor}})}))},renderTags:function(n,e){return n.map(function(n,t){return(0,r.jsx)($.Z,(0,o.Z)({size:"small",label:n.label,icon:n.icon,sx:{color:n.color,bgcolor:n.bgcolor}},e({index:t})))})},renderInput:function(n){return(0,r.jsx)(L.Z,(0,P.Z)((0,o.Z)({},n),{variant:"standard",color:"secondary",label:"Select status"}))}})}})}),(0,r.jsx)(E.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(A.Qr,{name:"assignedUser",control:j,render:function(n){var e=n.value,t=n.onChange;return(0,r.jsx)(V.q,{value:e,onChange:function(n,e){return t(e)},onOpen:function(){return _()},loading:D,options:G,setSearch:v,isOptionEqualToValue:function(n,e){return n.value===e.value},textFieldProps:{color:"secondary",variant:"standard",label:"Assigned to"}})}})})]}),(0,r.jsxs)(E.ZP,{container:!0,columnSpacing:4,rowGap:d,children:[(0,r.jsx)(E.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(A.Qr,{control:j,name:"priority",render:function(n){var e=n.value,t=n.onChange;return(0,r.jsx)(M.Z,{multiple:!0,limitTags:1,color:"secondary",options:H.FX,value:e||[],onChange:function(n,e){t(e)},renderOption:function(n,e,t){return(0,r.jsx)(F.Z,(0,P.Z)((0,o.Z)({},n),{children:(0,r.jsxs)(g.Z,{direction:"row",alignItems:"center",spacing:1,children:[e.icon,(0,r.jsxs)(m.Z,{children:[" ",e.label]})]})}))},renderTags:function(n){return n.map(function(n){return(0,r.jsxs)(g.Z,{direction:"row",alignItems:"center",spacing:1,mr:1,children:[n.icon,(0,r.jsxs)(m.Z,{children:[" ",n.label]})]})})},renderInput:function(n){return(0,r.jsx)(L.Z,(0,P.Z)((0,o.Z)({},n),{variant:"standard",color:"secondary",label:"Select priority"}))}})}})}),(0,r.jsx)(E.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(A.Qr,{control:j,name:"dueDate",defaultValue:null,render:function(n){return(0,r.jsx)(B.M,(0,P.Z)((0,o.Z)({},n),{label:"Due date",inputFormat:"Do MMM YYYY",renderInput:function(n){return(0,r.jsx)(L.Z,(0,P.Z)((0,o.Z)({},n),{fullWidth:!0,color:"secondary",variant:"standard"}))}}))}})})]}),(0,r.jsx)(E.ZP,{container:!0,columnSpacing:4,rowGap:d,children:(0,r.jsx)(E.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(W.r,{control:j})})}),(0,r.jsxs)(E.ZP,{container:!0,columnSpacing:4,rowGap:d,children:[(0,r.jsx)(E.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(A.Qr,{name:"assignedToMe",control:j,render:function(n){var e=n.value,t=n.onChange;return(0,r.jsx)(Y.Z,{control:(0,r.jsx)(q.Z,{color:"secondary",checked:e,onChange:function(n){return t(n.target.checked)}}),label:"Assigned to me"})}})}),(0,r.jsx)(E.ZP,{item:!0,xs:12,xs2:6,children:(0,r.jsx)(A.Qr,{name:"archived",control:j,render:function(n){var e=n.value,t=n.onChange;return(0,r.jsx)(Y.Z,{control:(0,r.jsx)(q.Z,{color:"secondary",checked:e,onChange:function(n){return t(n.target.checked)}}),label:"Show archived tasks"})}})})]}),(0,r.jsx)(E.ZP,{container:!0,item:!0,xs:12,children:(0,r.jsxs)(g.Z,{width:"100%",direction:"row",justifyContent:"flex-end",spacing:2,children:[(0,r.jsx)(p.Z,{variant:"contained",color:"danger",onClick:function(){return nn()},children:"Cancel"}),(0,r.jsx)(p.Z,{variant:"contained",color:"secondary",type:"submit",children:"Search"})]})})]})})})})};G.defaultProps={open:!1,setOpen:function(){},initialFilters:{},filters:{},setFilters:function(){}},G.propTypes={open:u().bool,setOpen:u().func,initialFilters:u().object,filters:u().object,setFilters:u().func};var X=(0,N.Z)(D.Z)(function(){return{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}}),J=(0,N.Z)(f.Z)(function(){return{padding:"24px",maxWidth:"700px",maxHeight:"100vh",overflowY:"scroll"}}),K=t(93859),nn=t(24062),ne=t(20705),nt=t(64872),nr=function(n){var e=n.q,t=n.archived,r=n.status,i=n.priority,a=n.dueDate,s=n.assignedUserId,l=n.tags,c=n.limit,u=n.offset,d=n.orderBy;return{where:(0,o.Z)({_or:[{title:{_ilike:e}},{content:{_ilike:e}}],archived:{_eq:t},status:r?{_in:r}:{_nin:[H.cj.DONE]},priority:{_in:i},dueDate:{_eq:a},assignedUserId:{_eq:s}},l&&l.length>0&&{Taxonomy:{Taxonomy:{id:{_in:l}}}}),limit:c,offset:u,orderBy:d}},no=t(93884),ni=function(n){var e=n.initialFilters,t=(0,nt.a)(),s=(0,a.useState)(!1),c=s[0],u=s[1],y=(0,a.useState)((0,o.Z)({},e)),b=y[0],Z=y[1],j=(0,ne.x)({filters:b}),T=j.initialData,P=j.ref,E=nr(T),D=(0,v.a)(w,{variables:E}),L=D.data,O=void 0===L?{tasks:[],meta:{aggregate:{totalCount:0}}}:L,M=O.tasks,$=O.meta,F=D.loading,Y=D.refetch,q=(0,i.Z)((0,x.D)(k,{refetchQueries:["GetTasksTable"]}),1)[0],z=(0,a.useCallback)(function(n){n.stopPropagation(),t.show({content:(0,r.jsx)(K.G,{close:t.close}),title:"Create Task",xs3:"100vw",sm:"100vw",sm2:"80vw",sm3:"70vw",md2:"60vw",lg:"50vw",lg2:"40vw"})},[t]),A=(0,a.useCallback)(function(n){t.show({content:(0,r.jsx)(nn.J,{id:n.id,close:t.close}),title:"Task Details",xs3:"100vw",sm:"100vw",sm2:"100vw",sm3:"100vw",md2:"100vw",lg:"90vw",lg2:"80vw"})},[t]),R=(0,a.useCallback)(function(n){return function(e){e.stopPropagation(),q({variables:{id:n.id,object:{priority:e.target.value}}})}},[q]),N=(0,a.useCallback)(function(n){return function(e){e.stopPropagation(),q({variables:{id:n.id,object:{status:e.target.value}}})}},[q]),U=(0,a.useCallback)(function(n,e){q({variables:{id:n.id,object:{archived:e}}})},[q]),B=(0,a.useMemo)(function(){return[{minWidth:120,field:"priority",headerName:"Priority",sortable:!0,renderCell:function(n){var e=n.row;return(0,r.jsx)(S.P,{selectProps:{input:(0,r.jsx)(h.ZP,{})},withoutSelectIcon:!0,inputComponent:"textWithIcon",selectComponent:"textWithIcon",options:H.FX,value:e.priority,onChange:R(e)})}},{minWidth:200,flex:1,field:"title",headerName:"Task",sortable:!1,renderCell:function(n){var e=n.row;return(0,r.jsxs)(g.Z,{direction:"row",alignItems:"center",children:[(0,r.jsx)(m.Z,{mr:1,children:e.title}),(0,r.jsx)(I.K,{row:e,entity:"Task",refetchQueries:["GetTasksTable"]})]})}},{minWidth:160,field:"createdAt",headerName:"Created date",sortable:!0,renderCell:function(n){var e=n.row;return l()(e.createdAt).format("YYYY-MM-DD")}},{minWidth:160,field:"dueDate",headerName:"Due date",sortable:!0,renderCell:function(n){var e=n.row;return l()(e.dueDate).isSame(l()(),"day")?(0,r.jsx)(m.Z,{sx:{color:"info.main"},children:l()(e.dueDate).format("YYYY-MM-DD")}):l()(e.dueDate).isBefore(l()(),"day")?(0,r.jsx)(m.Z,{sx:{color:"danger.main"},children:l()(e.dueDate).format("YYYY-MM-DD")}):(0,r.jsx)(m.Z,{children:l()(e.dueDate).format("YYYY-MM-DD")})}},{minWidth:120,field:"assignedTo",headerName:"Assigned to",sortable:!0,sortName:'{"AssignedUser": {"nameFirst": "ORDER"}}'},{minWidth:120,field:"status",headerName:"Status",sortable:!0,renderCell:function(n){var e=n.row;return(0,r.jsx)(S.P,{selectProps:{input:(0,r.jsx)(h.ZP,{})},withoutSelectIcon:!0,inputComponent:"chip",selectComponent:"chip",options:H.jb,value:e.status,onChange:N(e)})}},{width:50,field:"actions",headerName:"Actions",sortable:!1,renderCell:function(n){var e=n.row;return(0,r.jsx)(_.C,{row:e,actionsData:function(n){var e=[];return e.push({icon:"info",onClick:function(e){e.stopPropagation(),A(n)},tooltip:"Info"}),n.archived?e.push({icon:"unarchive",onClick:function(e){e.stopPropagation(),U(n,!1)},tooltip:"Unarchive"}):e.push({icon:"archive",onClick:function(e){e.stopPropagation(),U(n,!0)},tooltip:"Archive"}),e}})}}]},[R,U,N,A]),W=(0,a.useMemo)(function(){return M.map(function(n){return{id:n.id,archived:n.archived,priority:n.priority,title:n.title,createdAt:n.createdAt,dueDate:n.dueDate,assignedTo:n.assignedUser.fullName,status:n.status,tags:n.tags}})},[M]),Q=(0,a.useMemo)(function(){return{title:"No tasks to do!",subtitleFirstLine:"Congratulations! You don't have any tasks to complete.",subtitleSecondLine:"To create task for you or someone else, click the button below.",buttonText:"Create a task",onAction:z}},[z]);return(0,r.jsxs)(g.Z,{width:"100%",spacing:2,sx:{height:"calc(100% - 58px)"},children:[(0,r.jsxs)(g.Z,{width:"100%",direction:"row",justifyContent:"space-between",children:[(0,r.jsx)(p.Z,{variant:"contained",startIcon:(0,r.jsx)(d.Z,{}),onClick:function(){return u(!0)},children:"Filters"}),(0,r.jsx)(g.Z,{direction:"row",spacing:2,children:(0,r.jsx)(p.Z,{variant:"contained",color:"secondary",onClick:z,children:"Create Task"})})]}),(0,r.jsxs)(f.Z,{sx:{paddingTop:"16px",paddingBottom:"16px",height:"100%"},children:[(0,r.jsx)(g.Z,{direction:"row",justifyContent:"space-between",children:(0,r.jsx)(m.Z,{ml:2,variant:"h5",sx:{fontWeight:600},children:"Tasks"})}),(0,r.jsx)(G,{initialFilters:e,filters:b,setFilters:Z,open:c,setOpen:u}),W.length?(0,r.jsx)(C.i,{autoHeight:!1,ref:P,columns:B,rows:W,meta:$,refetch:Y,onRowClick:A,containerHeight:"calc(100% - 32px)",columnVisibilityModel:{}}):!F&&(0,r.jsx)(no.C,(0,o.Z)({imageSrc:"/static/icons/no_tasks_found.svg"},Q))]})]})};ni.defaultProps={initialFilters:{}},ni.propTypes={initialFilters:u().shape({archived:u().bool}).isRequired};var na=t(58849),ns=function(){return(0,r.jsx)(ni,{initialFilters:{archived:!1,filterType:"task_table"}})};ns.getLayout=function(n){return(0,r.jsx)(na.Z,{children:n})};var nl=ns},58533:function(n,e,t){"use strict";var r=t(67294),o=function(n,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(n,e)},i=function(){return(i=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)},a={Pixel:"Pixel",Percent:"Percent"},s={unit:a.Percent,value:.8};function l(n){return"number"==typeof n?{unit:a.Percent,value:100*n}:"string"==typeof n?n.match(/^(\d*(\.\d+)?)px$/)?{unit:a.Pixel,value:parseFloat(n)}:n.match(/^(\d*(\.\d+)?)%$/)?{unit:a.Percent,value:parseFloat(n)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),s):(console.warn("scrollThreshold should be string or number"),s)}var c=function(n){function e(e){var t=n.call(this,e)||this;return t.lastScrollTop=0,t.actionTriggered=!1,t.startY=0,t.currentY=0,t.dragging=!1,t.maxPullDownDistance=0,t.getScrollableTarget=function(){return t.props.scrollableTarget instanceof HTMLElement?t.props.scrollableTarget:"string"==typeof t.props.scrollableTarget?document.getElementById(t.props.scrollableTarget):(null===t.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},t.onStart=function(n){!t.lastScrollTop&&(t.dragging=!0,n instanceof MouseEvent?t.startY=n.pageY:n instanceof TouchEvent&&(t.startY=n.touches[0].pageY),t.currentY=t.startY,t._infScroll&&(t._infScroll.style.willChange="transform",t._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},t.onMove=function(n){if(t.dragging)n instanceof MouseEvent?t.currentY=n.pageY:n instanceof TouchEvent&&(t.currentY=n.touches[0].pageY),!(t.currentY<t.startY)&&(t.currentY-t.startY>=Number(t.props.pullDownToRefreshThreshold)&&t.setState({pullToRefreshThresholdBreached:!0}),!(t.currentY-t.startY>1.5*t.maxPullDownDistance)&&t._infScroll&&(t._infScroll.style.overflow="visible",t._infScroll.style.transform="translate3d(0px, "+(t.currentY-t.startY)+"px, 0px)"))},t.onEnd=function(){t.startY=0,t.currentY=0,t.dragging=!1,t.state.pullToRefreshThresholdBreached&&(t.props.refreshFunction&&t.props.refreshFunction(),t.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){t._infScroll&&(t._infScroll.style.overflow="auto",t._infScroll.style.transform="none",t._infScroll.style.willChange="unset")})},t.onScrollListener=function(n){"function"==typeof t.props.onScroll&&setTimeout(function(){return t.props.onScroll&&t.props.onScroll(n)},0);var e=t.props.height||t._scrollableNode?n.target:document.documentElement.scrollTop?document.documentElement:document.body;!t.actionTriggered&&((t.props.inverse?t.isElementAtTop(e,t.props.scrollThreshold):t.isElementAtBottom(e,t.props.scrollThreshold))&&t.props.hasMore&&(t.actionTriggered=!0,t.setState({showLoader:!0}),t.props.next&&t.props.next()),t.lastScrollTop=e.scrollTop)},t.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:e.dataLength},t.throttledOnScrollListener=(function(n,e,t,r){var o,i=!1,a=0;function s(){o&&clearTimeout(o)}function l(){var l=this,c=Date.now()-a,u=arguments;function d(){a=Date.now(),t.apply(l,u)}!i&&(r&&!o&&d(),s(),void 0===r&&c>n?d():!0!==e&&(o=setTimeout(r?function(){o=void 0}:d,void 0===r?n-c:n)))}return"boolean"!=typeof e&&(r=t,t=e,e=void 0),l.cancel=function(){s(),i=!0},l})(150,t.onScrollListener).bind(t),t.onStart=t.onStart.bind(t),t.onMove=t.onMove.bind(t),t.onEnd=t.onEnd.bind(t),t}return!function(n,e){function t(){this.constructor=n}o(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(e,n),e.prototype.componentDidMount=function(){if(void 0===this.props.dataLength)throw Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"==typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!=typeof this.props.refreshFunction))throw Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,e){return n.dataLength!==e.prevDataLength?i(i({},e),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,e){void 0===e&&(e=.8);var t=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,r=l(e);return r.unit===a.Pixel?n.scrollTop<=r.value+t-n.scrollHeight+1:n.scrollTop<=r.value/100+t-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,e){void 0===e&&(e=.8);var t=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,r=l(e);return r.unit===a.Pixel?n.scrollTop+t>=n.scrollHeight-r.value:n.scrollTop+t>=r.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,e=i({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),t=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),o=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return r.createElement("div",{style:o,className:"infinite-scroll-component__outerdiv"},r.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(e){return n._infScroll=e},style:e},this.props.pullDownToRefresh&&r.createElement("div",{style:{position:"relative"},ref:function(e){return n._pullDown=e}},r.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!t&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(r.Component);e.Z=c}},function(n){n.O(0,[3662,2283,212,619,8890,2583,4135,8579,6043,4244,3911,3776,5370,2329,778,6540,4046,1023,9957,1870,2797,653,8062,2429,597,4211,5373,8849,6733,1741,8301,9774,2888,179],function(){return n(n.s=61510)}),_N_E=n.O()}]);